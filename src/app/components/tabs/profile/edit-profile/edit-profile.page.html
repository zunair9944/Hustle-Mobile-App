<ion-content fullscreen="true" class="container">
  <ion-row class="login_top">
    <ion-back-button defaultHref="/tabs/inbox">
      <ion-img class="arrow-left" src="/assets/icon/arrow-left.svg"></ion-img>
    </ion-back-button>
    <ion-avatar class="user userAvatar d-flex ion-justify-content-center mt-30 ion-margin-top"
      (click)="profilePic.click()">
      <ion-img class="" [src]="profilePicImage" (click)="profilePic"></ion-img>
    </ion-avatar>
    <ion-col size="12" class="ion-no-padding">
      <h1 class="font18 fontw600 ion-text-center text-grey-light mt-30 mb-0">Update Profile</h1>
    </ion-col>
  </ion-row>
  <ion-grid class="login_center position-relative">
    <ion-row>
      <form [formGroup]="updateForm" (ngSubmit)="updateProfile()" style="width: 100%;">
        <input type="file" style="visibility: hidden;display: none;" #profilePic (change)="onProfilePic($event)">
        <ion-col size="12" class="px-0 w-100 pt-10">
          <ion-item class="customInput" lines="none">
            <ion-label position="stacked" class="mt-0">First name</ion-label>
            <ion-input placeholder="Your First Name"
              [ngClass]="{'errorBorder':updateForm.get('firstName')?.hasError('required') && updateForm.get('firstName')?.touched || updateForm.get('firstName')?.hasError('pattern')}"
              formControlName="firstName" [(ngModel)]="user.firstName"></ion-input>
            <ion-text class="errorMsg" color="danger">Please enter valid name</ion-text>
          </ion-item>
          <ion-item class="customInput" lines="none">
            <ion-label position="stacked" class="mt-0">Last name</ion-label>
            <ion-input placeholder="Your Last Name"
              [ngClass]="{'errorBorder':updateForm.get('lastName')?.hasError('required') && updateForm.get('lastName')?.touched || updateForm.get('lastName')?.hasError('pattern')}"
              formControlName="lastName" [(ngModel)]="user.lastName"></ion-input>
            <ion-text class="errorMsg" color="danger">Please enter valid name</ion-text>
          </ion-item>
          <ion-item class="customInput" lines="none">
            <ion-label position="stacked" class="mt-0">Date of birth</ion-label>
            <ion-input placeholder="dd/ mm/ yyyy" type="date"
              [ngClass]="{'errorBorder':updateForm.get('dateOfBirth')?.hasError('required') && updateForm.get('dateOfBirth')?.touched}"
              formControlName="dateOfBirth" [(ngModel)]="user.dateOfBirth"></ion-input>
            <ion-text class="errorMsg" color="danger">Please enter valid DOB</ion-text>
          </ion-item>
          <ion-item class="customInput" lines="none">
            <ion-label position="stacked" class="mt-0">Account name</ion-label>
            <ion-input placeholder="Account Name"
              [ngClass]="{'errorBorder':updateForm.get('accountName')?.hasError('required') && updateForm.get('accountName')?.touched}"
              formControlName="accountName" [(ngModel)]="user.accountName"></ion-input>
            <ion-text class="errorMsg" color="danger">Please enter valid Account Name</ion-text>
          </ion-item>
          <ion-item class="customInput" lines="none">
            <ion-label position="stacked" class="mt-0">Enter Password</ion-label>
            <ion-input #passwordInput [type]="passwordVisible ? 'text' : 'password'" placeholder="Enter Password"
              [ngClass]="{'errorBorder':updateForm.get('password')?.hasError('required') && updateForm.get('password')?.touched || updateForm.get('password')?.hasError('pattern')}"
              formControlName="password"></ion-input>
            <ion-icon src="/assets/icon/lock.svg" class="inouticon" size="small" slot="end"
              (click)="passwordInput.type = passwordVisible ? 'text' : 'password'; passwordVisible = !passwordVisible;"></ion-icon>
          </ion-item>
          <ion-item class="customInput" lines="none">
            <ion-label position="stacked" class="mt-0">Confirm Password</ion-label>
            <ion-input #passwordInputC [type]="passwordVisibleC ? 'text' : 'password'" placeholder="Confirm Password"
              [ngClass]="{'errorBorder': updateForm.get('confirmPassword')?.hasError('required') && updateForm.get('confirmPassword')?.touched}"
              formControlName="confirmPassword"></ion-input>
            <ion-icon src="/assets/icon/lock.svg" class="inouticon" size="small" slot="end"
              (click)="passwordInputC.type = passwordVisibleC ? 'text' : 'password'; passwordVisibleC = !passwordVisibleC;"></ion-icon>
          </ion-item>
          <div class="d-flex w-100 ion-align-items-center
      ion-justify-content-center pt-50">
            <ion-button type="submit" color="light" fill="clear"
              class="btn-primary ion-no-margin ion-no-padding text-white fontw700 font17 ion-text-center w-100">
              <span>Update Profile</span>
            </ion-button>
          </div>
        </ion-col>
      </form>
    </ion-row>
  </ion-grid>
</ion-content>